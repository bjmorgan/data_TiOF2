# TiOF<sub>2</sub> structure prediction dataset

Author: Benjamin J. Morgan  
ORCID: [0000-0002-3056-8233](https://orcid.org/0000-0002-3056-8233)
 
This dataset contains DFT and cluster expansion calculations performed to study O/F disorder in TiOF<sub>2</sub>.

## Overview
The dataset contains inputs and outputs for the following calculations:
1. Generation of all symmetry-inequivalent 2&times;2&times;2 supercells of TiOF<sub>2</sub> (2664 total). ([2x2x2_configurations](2x2x2_configurations))
2. `VASP` DFT geometry optimisations of a subset of 65 TiOF<sub>2</sub> 2&times;2&times;2 supercells. ([2x2x2_vasp_calculations](2x2x2_vasp_calculations))
3. Fitting a cluster expansion model to the energies of these 65 configurations. ([cluster_expansion](cluster_expansion))
4. Predicting the energies of all 2664 2&times;2&times;2 supercell configurations, using the cluster expansion model. ([cluster_predictions](cluster_predictions))
5. Structure prediction of partially disordered 4&times;4&times;4 TiOF<sub>2</sub> supercells, using the cluster expansion model from 3. and a genetic algorithm. ([cluster_ga_4x4x4](cluster_ga_4x4x4))
6. DFT Geometry optimisation of 5 4&times;4&times;4 partially disordered TiOF<sub>2</sub> supercells (generated in step 5). ([4x4x4_vasp_calculations](4x4x4_vasp_calculations))
7. DFT calculations of Li inserted into interstitial sites of one of the 4&times;4&times;4 partially disordered TiOF<sub>2</sub> supercells. ([li_insertion](li_insertion))  
8. Structure prediction of a partially disordered 6&times;6&times;6 TiOF<sub>2</sub> supercell, using the cluster expansion model from 3. and a genetic algorithm. ([cluster_ga_6x6x6](cluster_ga_6x6x6))

Full details for each set of calculations are given in each corresponding subdirectory.

## 1. Generation of all symmetry-inequivalent 2&times;2&times;2 disordered supercells
We first generated all symmetry-inequivalent 2&times;2&times;2 supercells with TiOF<sub>2</sub> stoichiometry. This symmetry analysis and structure generation is performed by the script `2x2x2_configs.py` in the `configurations` directory, and uses the `bsym` Python module. The output is a set of 2664 symmetry-inequivalent structures, outputted as `VASP` `POSCAR` files. These are generated in the `configurations/poscars` directory, and are named `config_<number>.poscar`, where `<number>` is the configuration number for that structure.

### Geometry optimisation using `VASP`.
 
A subset of the 2664 symmetry-inequivalent structures generated by `bsym` were selected for full geomtry optimisation using density functional theory with `VASP`. These calculations used the `Ti_pv`, `O`, and `F` PAW pseudopotentials, with a Dudarev $+U$ term applied to the Ti $d$ states. PBEsol functional. Full geometry optimisations were performed, allowing cell shape and volume to change freely. Energy cutoff of 700 eV, and k-point sampling using a 4&times;4&times;4 Monkhorst-Pack k-point mesh. Struture optimsation was deemed converged when forces on all ions were smaller than 0.01 eV per Angstrom. Energies of the optimised structures were collated using the `vasp_summary.py` script (which relies on the `vasppy` Python module), and are listed in the `TiOF2_2x2x2_sample_data.yaml` files.

### Cluster expansion interaction fitting
[README](cluster_expansion/README.md)

### Checking low energy structures
[README](cluster_predictions/README.md)

### Genetic algorithm structure prediction of 4x4x4 disordered supercells.

TODO

#### notes
- +U corrections are not necessary for these calculations, but has been used here for consistency with other work, and to allow future defect calculations to be performed with consistent parameters.
- The data set also contains an equivalent set of calculations performed using a 2&times;2&times;2 Monkhorst-Pack k-point mesh).

## Requirements

### Python Modules

- `bsym`: Symmetry analysis of the disordered TiOF<sub>2</sub> 2&times;2&times;2 supercell.
- `pymatgen`: Handling structures, and converting to/from `VASP` `POSCAR` format.
- `vasppy`: Collating `VASP` calculation data.
- `beagle`: Optimisation of TiOF<sub>2</sub> 4&times;4&times;4 and 6&times;6&times;6supercells by a genetic algorithm, using the cluster expansion as a model Hamiltonian.

### Other Codes

- [`VASP`](http://vasp.at/): All DFT geometry optimisations.
- `MAPS`, available as part of the [ATAT](https://www.brown.edu/Departments/Engineering/Labs/avdw/atat/) suite of codes: Fitting the cluster expansion.
 
